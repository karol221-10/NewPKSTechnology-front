<article class="col2 pad_left1" *ngIf="isLoaded">
  <h2>{{data[0].leavingFrom}} - {{data[0].leavingTo}}</h2>
  <kendo-grid
    class=" no-border"
    [data]="data" style="height: 600px;"
  >
    <kendo-grid-column field="leavingFrom" title="From" >
    </kendo-grid-column>
    <kendo-grid-column field="leavingTo" title="To">
    </kendo-grid-column>
    <kendo-grid-column field="data"  title="Data and Time">
    </kendo-grid-column>
    <!--<kendo-grid-column field="time"  title="Time">
    </kendo-grid-column>-->


    <ng-template kendoGridDetailTemplate let-dataItem>
      <section *ngIf="dataItem" >
          <div class="row align-items-center">
              <div class="col-8">
                <kendo-grid  [data]="dataItem.busStops">
                  <kendo-grid-column field="townId" title="Name" >
                  </kendo-grid-column>
                  <kendo-grid-column field="arrivalDate" title="From" >
                  </kendo-grid-column>
                  <kendo-grid-column field="departureDate" title="To" >
                  </kendo-grid-column>
                </kendo-grid>
              </div>
            <div class="col-4">
              <div class="row">
                <div class="col-12 d-flex align-items-center justify-content-center">
                  <p><strong>Total number of stops:</strong> {{dataItem.busStops.length}} </p>
                </div>
                <div class="col-12 d-flex align-items-center justify-content-center">
                  <p><strong>Total travel distance:</strong> {{dataItem.totalDistance}} </p>
                </div>
                <div class="col-12 d-flex align-items-center justify-content-center">
                  <button type="button" class="btn btn-dark btn-sm" (click)="show(dataItem)" >Buy a ticket</button>
                </div>
              </div>
            </div>
          </div>
    </section>
  </ng-template>
</kendo-grid>
</article>
